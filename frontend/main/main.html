<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>main</title> <!-- タイトルを追加 -->

    <!-- CSSファイルを<head>セクション内で読み込み -->
    <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}"/>
</head>
<body>
    <!-- コンテンツ -->
    <div id="main">
        <!-- ユーザー名の表示-->
        <div id="user_name">
            <p>{{user_name}}さん</p>
        </div>
        <!-- コメントが表示される -->
        <div id="comment">
            <p>コメント</p>
            {{text}}
        </div>
        <!-- 異常度を表示する-->
        <div
            style="
                position: absolute;
                top: 35%;
                left: 25%;
                display: flex;
                justify-content: center;
                align-items: center;
                color:aliceblue;
                "
        >
            <div id="middle-circle">{{percent}}</div>
            <div id="progress-spinner"></div>
        </div>
        <input type="text" id="user" placeholder="ユーザーを検索">
        <button id="goButton">検索</button>

        <script>
            // ボタンがクリックされたときに呼び出される関数
            function navigateToURL() {
              // 入力フィールドからURLを取得
              const url = document.getElementById("user").value;
        
              window.location.href = "http://localhost:5000/search/" + url;
            }
        
            // ボタンにクリックイベントを追加
            const goButton = document.getElementById("goButton");
            goButton.addEventListener("click", navigateToURL);
        </script>
            <!-- <script>
                var score = 60;
                var progress = score;
                function setProgress() {
                    document.getElementById("progress-spinner").style.background =
                    "conic-gradient(rgb(3, 133, 255) " +
                    progress +
                    "%,rgb(242, 242, 242) " +
                    progress +
                    "%)";
                    document.getElementById("middle-circle").innerHTML =
                    progress.toString() + "%";
                }
                window.onload = function () {
                    setProgress();
                };
            </script> -->
        <!--グラフを表示する-->
        <div id="graph">
            <img src="graph.png" alt="graph">
        </div>
    </body>
</html>
